
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>AdminLTE 2 | General UI</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="../vendor/bootstrap/css/bootstrap.min.css">
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">-->
    <!--<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">-->
    <link rel="stylesheet" href="../dist/css/AdminLTE.min.css">
    <link rel="stylesheet" href="../dist/css/skins/_all-skins.min.css">
    <link href="../css/login.css" rel="stylesheet" type="text/css"/>

    <!--<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>-->
    <!--<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>-->
    <style>
        .color-palette {
            height: 35px;
            line-height: 35px;
            text-align: center;
        }

        .color-palette-set {
            margin-bottom: 15px;
        }

        .color-palette span {
            display: none;
            font-size: 12px;
        }

        .color-palette:hover span {
            display: block;
        }

        .color-palette-box h4 {
            position: absolute;
            top: 100%;
            left: 25px;
            margin-top: -40px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 12px;
            display: block;
            z-index: 7;
        }
    </style>
</head>
<body >
<div class="wrapper">


    <div >

        <section class="content">

            <!--<div class="row">-->
                <div class="col-md-6">
                    <div class="box box-solid">
                        <!-- /.box-header -->
                        <div class="box-body">
                            <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                                <ol class="carousel-indicators">
                                    <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                                    <li data-target="#carousel-example-generic" data-slide-to="1" class=""></li>
                                    <li data-target="#carousel-example-generic" data-slide-to="2" class=""></li>
                                </ol>
                                <div class="carousel-inner">
                                    <div class="item active">
                                        <img src="http://placehold.it/900x500/39CCCC/ffffff&text=I+Love+Bootstrap" alt="First slide">

                                        <div class="carousel-caption">
                                            First Slide
                                        </div>
                                    </div>
                                    <div class="item">
                                        <img src="http://placehold.it/900x500/3c8dbc/ffffff&text=I+Love+Bootstrap" alt="Second slide">

                                        <div class="carousel-caption">
                                            Second Slide
                                        </div>
                                    </div>
                                    <div class="item">
                                        <img src="http://placehold.it/900x500/f39c12/ffffff&text=I+Love+Bootstrap" alt="Third slide">


                                        <div class="carousel-caption">
                                            Third Slide     ...
                                            <a class="nav-item-child" data-toggle="modal" data-target="#myModal1" id = "loginBtn" >시작하기</a>
                                        </div>
                                    </div>
                                </div>
                                <a class="left carousel-control" href="#carousel-example-generic" data-slide="prev">
                                    <span class="fa fa-angle-left"></span>
                                </a>
                                <a class="right carousel-control" href="#carousel-example-generic" data-slide="next">
                                    <span class="fa fa-angle-right"></span>
                                </a>
                            </div>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->
                </div>
                <!-- /.col -->
            <!--</div>-->

        </section>
    </div>
</div>


<div class="modal fade" id="myModal1" role="dialog">
    <div class="modal-dialog">


        <div class="section" id="section1">

            <!-- 로그인 화면 -->
            <div class="form form--login">
                <button type="button" class="close modal1" data-dismiss="modal">&times;</button>
                <h1 class="alpha">Sign In!</h1>
                <p>You already have an account? Great! Login here.</p>
                <div>
                    <form class="form-wrap">
                        <input id="id" class="inputbox email" type="text" placeholder="Email id" />
                        <input id="pw" class="inputbox password" type="password" placeholder="Password" />
                        <p>
                            <a  class="button loginBtn">Login <i class="icon-rocket"></i></a>
                        </p>
                    </form>
                    <!-- <p>
                         Forget password? It's ok. <a class="scroll" href="#section3" data-section="3">Recover here &raquo;</a>
                     </p>-->
                </div>
                <hr />
                <!--<p>Or you can Login with one of the following</p>-->
                <!--<div class="social">-->
                <!--<a href="" id ="facebook_id_login"  class="facebook"><i class="icon-facebook"></i></a> <a-->
                <!--href="#" id ="naver_id_login" class="twitter">&lt;!&ndash;<i class="icon-twitter"></i>&ndash;&gt;</a> <a-->
                <!--href="javascript:checkLoginStateWithKakao()" id="kakao-login-btn" class="google"><i class="icon-google-plus"></i></a>-->
                <!--</div>-->
                <p>
                    Don't have an account? <br><a class="scroll1">Register Now &raquo;</a>
                </p>
            </div>

            <!-- 회원가입 화면 -->
            <div class="form form--signup">
                <button type="button" class="close modal1" data-dismiss="modal">&times;</button>
                <h1 class="alpha">Sign Up!</h1>
                <p>Signup using your Email address</p>
                <div>
                    <form class="form-wrap">
                        <input id="joinId" class="inputbox email" type="text" placeholder="Email id" />
                        <input id="joinName" class="inputbox name" type="text"  placeholder="Your Name" />
                        <input id="joinPw" class="inputbox password" type="password" placeholder="Password" />
                        <input id="joinPwConfirm" class="inputbox password" type="password" placeholder="Confirm Password" />

                        <p>
                            <a href="#" class="button joinBtn">Create my Account <i class="icon-rocket"></i></a>
                        </p>
                        <!--<input id="" type="button" class="button" value="Sign up" />-->
                    </form>
                </div>
                <hr />
                <!--<p>Or you can Signup with one of the following</p>-->
                <!--<div class="social">-->
                <!--<a href="javascript:checkJoinStateWithFace()" class="facebook"><i class="icon-facebook"></i><span></span></a>-->
                <!--<a href="#" class="twitter"><i class="icon-twitter"></i><span></span></a>-->
                <!--<a href="javascript:checkJoinStateWithKakao()" class="google"><i class="icon-google-plus"></i><span></span></a>-->
                <!--</div>-->
                <p>
                    <!--<a class="scroll" href="#section1" data-section="1">&laquo;Login here</a>-->
                    <a class="scroll2">&laquo;Login here</a>
                </p>
            </div>

        </div>


    </div>
</div>



<script src="../plugins/jQuery/jquery-2.2.3.min.js"></script>
<script src="../vendor/bootstrap/js/bootstrap.min.js"></script>
<script src="../plugins/fastclick/fastclick.js"></script>
<script src="../dist/js/app.min.js"></script>
<script src="../dist/js/demo.js"></script>
<script src="../js/loginUser.js" type="text/javascript"></script>
<script type="application/javascript">
    (function(){
        $("div.form--login").hide();
    })();

    $(document.body).on("click", "a.scroll1", function () {
        $("a.scroll1").click(function () {
            $("div.form--login").hide();
            $("div.form--signup").show();

        });
    });

    $(document.body).on("click", "a.scroll2", function () {
        $("a.scroll2").click(function () {
            $("div.form--signup").hide();
            $("div.form--login").show();
        });
    });

    $(document.body).on("click", "a.loginBtn", function () {
        console.log("로그인 버튼누름")

        var userId = $("input#id").val();
        var pw = $("input#pw").val();

        $.ajax({
            url: "http://192.168.0.16:8000/user/login.do",
            data: {
                userId: userId,
                pw: pw
            },
            type: "POST",
            crossDomain: true
        }).done(function (result) {
            if (result === 'fail') {
                alert("입력하신 정보가 존재하지 않습니다.");
            } else {
                alert("로그인 성공!");
                if (!checkMobileDevice()) {
                    window.sessionStorage.setItem("user", userId)
                } else {
                    window.localStorage.setItem("user", userId);
                }

                var id = getLoginId();
                console.log("id = " + id);
                console.log(result);
                $(".modal1").click();
                location.replace("main/main.html");
            }
        });
    });

    $(document.body).on("click", "a.joinBtn", function () {
        $('a.joinBtn').on('click', function (event) {
            console.log("회원가입 버튼누름");
            console.log($("input#joinId").val(), $("input#joinPw").val());
            $.ajax({
                url: "http://192.168.0.16:8000/user/signIn.do",
                data: {
                    userId: $("input#joinId").val(),
                    pw: $("input#joinPw").val(),
                    name: $("input#joinName").val()
                },
                type: "POST",
                crossDomain: true
            }).done(function (result) {
                console.dir(result);
                if (result === 'success') {
                    alert("회원가입성공 성공!");
                    $("div.form--signup").hide();
                    $("div.form--login").show();
//                    $(".modal2").click();
                } else {
                    alert("회원가입하는데 오류가 발생했습니다. 다시 시도해주세요.");
                }
            });
        });
    });



</script>
</body>
</html>
